(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{13:function(e,t,r){},14:function(e,t,r){},27:function(e,t,r){},35:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r(0),s=r.n(c),a=r(5),o=r.n(a),i=(r(27),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,36)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),s(e),a(e)}))}),u=r(3),l=r(16),d=r(17),h=r(21),b=r(19),j=function(e){Object(h.a)(r,e);var t=Object(b.a)(r);function r(){var e;Object(l.a)(this,r);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={error:!1},e}return Object(d.a)(r,[{key:"componentDidCatch",value:function(e,t){this.setState((function(e){return{error:!e.error}})),this.consoleError(e,t)}},{key:"consoleError",value:function(e,t){console.log("Error : ".concat(e,", Error info : ").concat(t))}},{key:"render",value:function(){return this.state.error?Object(n.jsx)("h1",{children:"Error"}):this.props.children}}]),r}(c.Component),f=r(20),m=(r(13),r(12)),O=r.n(m),v=r(18),p=function(){var e=Object(v.a)(O.a.mark((function e(t){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", received ").concat(r.status));case 5:return e.next=7,r.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){return p(e).then((function(e){return e.map((function(e){return function(e){var t=e.id,r=e.firstName,n=e.lastName,c=e.dob;return{id:t,firstName:r,lastName:n,dob:{day:new Date(c).getDate(),mounth:new Date(c).getMonth(),year:new Date(c).getFullYear()},checked:!1}}(e)}))}))},N=function(e){var t=e.letter,r=e.res,c=e.func,s=e.text,a=r.filter((function(e){return e.lastName.includes(t)}));return a.length?a.map((function(e){var t=e.id,r=e.firstName,s=e.lastName,a=e.dob,o=JSON.parse(localStorage.getItem("users"))||void 0,i=(o?o.find((function(e){return e.id===t})):void 0)?Object(n.jsx)("input",{className:"inp",onChange:function(){return c({id:t,firstName:r,lastName:s,dob:a,checked:!1})},type:"checkbox",defaultChecked:!0}):Object(n.jsx)("input",{className:"inp",onChange:function(){return c({id:t,firstName:r,lastName:s,dob:a,checked:!0})},type:"checkbox"});return Object(n.jsxs)("div",{className:"list-block",children:[Object(n.jsx)("div",{className:"n-block",children:"".concat(s," ").concat(r)}),i]},t)})):Object(n.jsx)("div",{className:"list-block",children:s})},y=Object(u.b)((function(e){return{allusers:e.allusers,choseuser:e.choseuser}}),(function(e){return{load:function(t){return e(function(e){return{type:"LOAD",data:e}}(t))},add:function(t){return e(function(e){return{type:"ADD",user:e}}(t))}}}))((function(e){var t=e.allusers,r=e.load,s=e.add,a=t.data,o=Object(c.useState)(!0),i=Object(f.a)(o,2),u=i[0],l=i[1];Object(c.useEffect)((function(){x("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){return r(e)})).then((function(){return l(!1)}))}),[r]);var d=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(e,t){return Object(n.jsxs)("div",{className:"main-blocks",children:[Object(n.jsx)("h2",{className:"h2",children:e}),Object(n.jsx)(N,{letter:e,res:a,func:s,text:"-------------------"})]},t)}));return u?Object(n.jsxs)("div",{className:"m",children:[Object(n.jsx)("h1",{className:"h1-title",children:"Employees"}),Object(n.jsx)("div",{className:"eploy-block",children:Object(n.jsx)("h2",{children:"Loading employees"})})]}):Object(n.jsxs)("div",{className:"m",children:[Object(n.jsx)("h1",{className:"h1-title",children:"Employees"}),Object(n.jsx)("div",{className:"eploy-block",children:d})]})})),g=(r(14),function(e){var t=e.users,r=["January","February","March","April","May","June","July","August","September","October","November","December"];return t.sort((function(e,t){return e.dob.day>t.dob.day?1:-1})).map((function(e){var t=e.id,c=e.firstName,s=e.lastName,a=e.dob,o=a.day,i=a.mounth,u=a.year;return Object(n.jsxs)("div",{className:"b-us",children:[Object(n.jsx)("div",{className:"f-block",children:"".concat(s," ").concat(c)}),Object(n.jsx)("div",{className:"f-block",children:"".concat(o," ").concat(r[i],", ").concat(u," year")})]},t)}))}),k=Object(u.b)((function(e){return{choseuser:e.choseuser}}))((function(e){var t=e.choseuser.users,r=["January","February","March","April","May","June","July","August","September","October","November","December"],c=r.map((function(e,c){var s;if(t.forEach((function(t){var n=t.dob;r[n.mounth]===e&&(s=r[n.mounth])})),s===e){var a=t.filter((function(e){var t=e.dob;return r[t.mounth]===s}));return Object(n.jsxs)("div",{className:"bl-list",children:[Object(n.jsx)("h2",{className:"h2-b-block",children:e}),Object(n.jsx)(g,{users:a})]},c)}return null}));return 0===t.length?Object(n.jsxs)("div",{className:"b-block",children:[Object(n.jsx)("h1",{className:"h1-title",children:"Employees birthday"}),Object(n.jsx)("div",{className:"n-select",children:Object(n.jsx)("h2",{children:"No selected employees"})})]}):Object(n.jsxs)("div",{className:"b-block",children:[Object(n.jsx)("h1",{className:"h1-title",children:"Employees birthday"}),c,Object(n.jsx)("div",{})]})})),S=r(2),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD":return{data:t.data};default:return e}},E=r(7),J={users:JSON.parse(localStorage.getItem("users"))||[]},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD":var r,n=e.users.findIndex((function(e){return e.id===t.user.id}));return localStorage.getItem("users")&&localStorage.removeItem("users"),-1!==n?(r=[].concat(Object(E.a)(e.users.slice(0,n)),Object(E.a)(e.users.slice(n+1))),localStorage.setItem("users",JSON.stringify(r)),{users:r}):(r=[].concat(Object(E.a)(e.users),[t.user]),localStorage.setItem("users",JSON.stringify(r)),{users:r});default:return e}},A=Object(S.b)({allusers:D,choseuser:w}),C=Object(S.c)(A),I=function(){return Object(n.jsx)(j,{children:Object(n.jsxs)(u.a,{store:C,children:[Object(n.jsx)(y,{}),Object(n.jsx)(k,{})]})})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(I,{})}),document.getElementById("root")),i()}},[[35,1,2]]]);
//# sourceMappingURL=main.8644e691.chunk.js.map